<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>pophelperShiny 2.1.1 • pophelperShiny</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="pophelperShiny 2.1.1">
<meta property="og:description" content="pophelperShiny">
<meta property="og:image" content="https://github.com/royfrancis/pophelperShiny/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pophelperShiny</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">
    <span class="fas fa-tools"></span>
     
    Guide
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fas fa-book"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fas fa-history"></span>
     
    Versions
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/royfrancis/pophelperShiny">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="index_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>pophelperShiny 2.1.1</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/royfrancis/pophelperShiny/blob/master/vignettes/index.Rmd"><code>vignettes/index.Rmd</code></a></small>
      <div class="hidden name"><code>index.Rmd</code></div>

    </div>

    
    
<p><strong>Roy Francis</strong> | 29-Dec-2020</p>
<div id="general" class="section level1">
<h1 class="hasAnchor">
<a href="#general" class="anchor"></a>General</h1>
<ul>
<li>Once the app is loaded in the browser, the session is ready for use.<br>
</li>
<li>It is best to adjust widgets in the order from top left to bottom right. This is because once changes have been made to widgets further down, changes to top widgets may reset the settings of those below.</li>
<li>See section <strong>FAQs</strong>.</li>
<li>When running locally, open app in a system browser rather than the RStudio browser. In the RStudio browser, click on <strong>Open In Browser</strong>. Downloads only work in a system browser.</li>
</ul>
</div>
<div id="file-upload" class="section level1">
<h1 class="hasAnchor">
<a href="#file-upload" class="anchor"></a>File upload</h1>
<p>Files are uploaded interactively in the <em>Upload</em> tab. <strong>Input format</strong> option <strong>Auto</strong> should generally work. The following file types are expected: STRUCTURE, BAPS, TESS, ADMIXTURE output files or fastSTRUCTURE meanQ files. If using files as inputs from other software or modified files, from spreadsheets etc, they must be all numeric tabular data without headers in tab-delimited, space-delimited or comma-separated format. Decimal must be defined by dot. Combined, aligned and merged CLUMPP file from R package <code>pophelper</code> is also supported. If you think, a file format is incorrectly identified, you can manually set <strong>Input format</strong>. <strong>Mixed file formats are not supported</strong>.</p>
<p>On successful completion of upload, a summary table of uploaded files is shown. Fields shown are filename, file format and size of the file. File formats identified are STRUCTURE, BAPS, TESS, CLUMPP or BASIC files. Other text files or files of incorrect format are displayed as UNIDENTIFIED. ADMIXTURE and fastSTRUCTURE files are simple tables without headers differing in delimiter spaces. Any text file that is all numeric in a tabular format with space/tab/comma delimiter will be identified as BASIC format.</p>
<div class="figure">
<img src="figures/inputpreview.jpg" alt=""><p class="caption">Input preview</p>
</div>
<p><b>Fig. </b> 1: <em>A preview of the input files. STRUCTURE file (Left), TESS file (centre) and BASIC (ADMIXTURE) file (right). To download sample files, see downloads section.</em></p>
</div>
<div id="data" class="section level1">
<h1 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h1>
<p>The <em>Data</em> tab shows tabulated and summarised tables.</p>
<div id="tabulated-data" class="section level2">
<h2 class="hasAnchor">
<a href="#tabulated-data" class="anchor"></a>Tabulated data</h2>
<p>A tabulated table is displayed for a set of one or more identified run files. Tabulated data lists all runs sorted by loci, individuals and <em>K</em> for STRUCTURE runs. The table is sorted by individuals and <em>K</em> for other run formats. Tabulated data is not displayed if uploaded files consist of mixed formats. The tabulated data can be download using the download button the left side.</p>
</div>
<div id="summarised-data" class="section level2">
<h2 class="hasAnchor">
<a href="#summarised-data" class="anchor"></a>Summarised data</h2>
<p>The summarised table is created from the tabulated table. For STRUCTURE runs, the summarised data table is sorted by <strong>loci</strong>, <strong>ind</strong>, <em>K</em> and runs followed by <strong>elpdmean</strong>, <strong>elpdsd</strong>, <strong>elpdmin</strong> and <strong>elpdmax</strong>. For other run formats, the table is sorted by <strong>ind</strong>, <em>K</em> and <strong>runs</strong>. Summarised data is not displayed if uploaded files consist of mixed formats. The summarised data can be download using the download button the left side.</p>
</div>
</div>
<div id="evanno-method" class="section level1">
<h1 class="hasAnchor">
<a href="#evanno-method" class="anchor"></a>Evanno method</h1>
<p>The Evanno method is used to estimate the number of <em>K</em>. The method is based on Evanno et al., (2005) and only applicable to STRUCTURE runs. The Evanno method can be performed in the <em>Evanno</em> tab.</p>
<p>The <em>Input</em> tab shows a tabulated list of STRUCTURE files on the left side. By default, all runs are selected. A subset of runs can be used for the Evanno analysis by selecting (by clicking) the rows/runs in the input table. A K-Plot (Mean of Estimated Log-likelihood over <em>K</em>) for the selected run is shown on the right side.</p>
<p>The <em>Output</em> tab shows a table of the Evanno results showing various derivatives as well as a scatterplots based on the same table. The data is available to download as a text file.</p>
<p>The Evanno method is computed only if the selected runs fulfill the following criteria:</p>
<ul>
<li>At least 3 different values of <em>K</em><br>
</li>
<li>At least 2 repeats for each value of <em>K</em>
</li>
<li>Number of loci must be same across all <em>K</em><br>
</li>
<li>Number of individuals must be same across all <em>K</em><br>
</li>
<li>Sequentially increasing values of <em>K</em>. For example, <em>K</em> values cannot be 2,3 and then 5.</li>
</ul>
<p>This is the minimum requirement. Evanno method benefits from having several repeats for each <em>K</em> across a wide range of <em>K</em>. The Evanno results table and plot can be downloaded using the download options on the left of the page.</p>
<div class="figure">
<img src="figures/evanno-plot.png" alt=""><p class="caption">evanno-plot</p>
</div>
<p><b>Fig. </b> 2: <em>An Evanno method output plot.</em></p>
</div>
<div id="plotting" class="section level1">
<h1 class="hasAnchor">
<a href="#plotting" class="anchor"></a>Plotting</h1>
<p>Two types of plots are available: <strong>Standard Plot</strong> and <strong>Interactive Plot</strong>. For finer control and print, the <strong>Standard Plot</strong> may be better. For quick assessment of results using mouse hover tool tips and zoom control, use <strong>Interactive Plot</strong>.</p>
<div id="plot-options" class="section level2">
<h2 class="hasAnchor">
<a href="#plot-options" class="anchor"></a>Plot options</h2>
<p>The <strong>Plot options</strong> are common for Standard and Interactive plots.</p>
<p>A list of uploaded files are displayed. The default selection type is <strong>Datatable</strong>. With this, the selection order is maintained. In case the <strong>Datatable</strong> option does not work, the <strong>Picker</strong> option is available. In this case, the selection order is not maintained.</p>
<p>Runs to be plotted needs to be selected. The run is plotted as a barplot on the right side. If more than one run is selected, then runs are plotted one below the other as joined plots. Multiple plots are plotted as joined plots for standard plot and plotted separately for interactive plots.</p>
<div id="colour-palette" class="section level3">
<h3 class="hasAnchor">
<a href="#colour-palette" class="anchor"></a>Colour palette</h3>
<p>A selection of colour palettes are available to colour the clusters on barplots. The default is the <strong>Rich</strong> colour palette. Selecting any colour palette generates input widgets with colours equal to the max number of clusters in the selected runs. The colours are selected based on the palette, but can be changed if required. Manually input colours must be in hexadecimal format or picked using the colour picker. Input must look like this: <code>#2121D9</code>. Transparency is not supported. The number of colours available in each palette is shown in parenthesis <code>()</code>. If a number is not displayed, then there are no limits to the number of colours. Colour palettes are grouped into Function-based colours (FB) and Pre-defined colours (PD). PD and FB have slightly different properties.</p>
<div id="function-based-colours" class="section level4">
<h4 class="hasAnchor">
<a href="#function-based-colours" class="anchor"></a>Function-based colours</h4>
<p>FB colours are generated from a function. FB colours are not limited in numbers and can take any <em>K</em> value. New colours are added to the middle of the sequence as <em>K</em> increases. For example, <strong>Rich</strong> palette produces Blue and Red for <em>K</em>=2 and Blue, LightBlue and Red when <em>K</em>=3 and Blue, LightBlue, Yellow and Red when <em>K</em>=4 etc. Function-based colour schemes are shown below.</p>
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" width="576" style="display: block; margin: auto auto auto 0;"></p>
<p><b>Fig. </b> 3: <em>Function-based colour schemes showing scheme name. There is no limit on the number of colours when using these schemes.</em></p>
</div>
<div id="pre-defined-colours" class="section level4">
<h4 class="hasAnchor">
<a href="#pre-defined-colours" class="anchor"></a>Pre-defined colours</h4>
<p>PD colours have pre-defined values as well as a pre-defined length of colours. PD colours are always selected in the same sequence of colours. For example, <strong>Standard</strong> palette produces Blue and Red when <em>K</em>=2 and Blue, Red and Green when <em>K</em>=3 etc. New colours are added to the end of sequence as <em>K</em> increases. Pre-defined colour schemes are shown below.</p>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<p><b>Fig. </b> 4: <em>Pre-defined colour schemes showing scheme name and length of colours.</em></p>
<p>An extra category of <strong>Pre Defined</strong> colours called <strong>Pre Defined ColorBrewer</strong> is available. This option makes available colour palettes from <a href="http://colorbrewer2.org/">Colorbrewer</a>. Note that Colourbrewer palettes have a limit on the number of colours.</p>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="432" style="display: block; margin: auto auto auto 0;"></p>
<p><b>Fig. </b> 5: <em>Pre-defined colour schemes from Colorbrewer showing palette name and length of colours.</em></p>
</div>
</div>
<div id="align-clustersmerge-runs" class="section level3">
<h3 class="hasAnchor">
<a href="#align-clustersmerge-runs" class="anchor"></a>Align clusters/Merge runs</h3>
<p>When two or more runs are selected, a dropdown menu is available to align clusters or merge runs. Align clusters/Merge runs only works if the selected runs are of same run format and same number of individuals. For structure runs, the number of loci must be same too. <strong>Align within K</strong> align clusters between replicate runs of each K. <strong>Align across K</strong> first aligns clusters within K and then across K. The runs are reordered after alignment, but the number of runs and the order of individuals remain the same. <strong>Merge runs</strong> aligns runs across K and then merges replicate runs within each K. The number of runs will be lower after merging. If all runs belong to the same K, aligning across K is disabled and merging returns one run.</p>
</div>
<div id="order-individuals" class="section level3">
<h3 class="hasAnchor">
<a href="#order-individuals" class="anchor"></a>Order individuals</h3>
<p>Order/Sort individuals by individual labels, one of the clusters or all clusters. Based on the selected run/runs, the sortable clusters are shown in the dropdown menu. For eg: if runs <em>K</em>=3 and <em>K</em>=4 are selected, sortable clusters would be Cluster1, Cluster2 and Cluster3, since Cluster4 is not present in one of the files. If one of the clusters is selected (Eg. Cluster1), all selected runs are sorted by the selected cluster. If <strong>All</strong> is selected, then run(s) are sorted using all the clusters using a method similar to <strong>Sort by Q</strong> option in the STRUCTURE software. If group labels (section <strong>Group labels</strong>) are in use, individuals are sorted within the groups.</p>
</div>
<div id="individual-labels" class="section level3">
<h3 class="hasAnchor">
<a href="#individual-labels" class="anchor"></a>Individual labels</h3>
<p>Individuals are labelled numerically by default. By checking <strong>Use individual labels</strong>, individual labels can be read in from input STRUCTURE files, pasting into the input field or by uploading an individual labels file. Selecting <strong>Upload file</strong> allows to upload a single column text file with individual labels. This file must be tab-delimited or comma-separated. It must have no headers. Selecting <strong>Paste text</strong> allows for the labels to be pasted or manually typed in. It is possible to copy-paste from a spreadsheet (Excel) or text editor. The number of labels must be equal to the number of individuals in the run file. These individual labels are used when sorting individuals by labels. By checking <strong>Show individual labels</strong>, these labels are displayed under the plot (for standard and interactive plot). Checking <strong>Use individual labels</strong> also displays the <strong>Individual label options</strong> panel. More details about this panel is described under <strong>Individual label options</strong>.</p>
<p>When group labels (section <strong>Group labels</strong>) are used alongside individual labels, a checkbox option <strong>Concatenate ind &amp; group labels</strong> becomes active. Checking this concatenates all group labels with individual labels to create a long individual label per sample. The separator between the concatenated labels can be specified.</p>
</div>
<div id="group-labels" class="section level3">
<h3 class="hasAnchor">
<a href="#group-labels" class="anchor"></a>Group labels</h3>
<p>Population labels can be displayed under the plots (for standard plots) and in the hover tooltips (for interactive plot). Selecting the <strong>Upload file</strong>, group labels can be uploaded as a text file (tab-delimited or a comma-separated) with one or more columns. The file MUST have a header. Each column is referred to as a group label set. The headers are referred to as group label titles. And the actual labels are referred to as group label text. The number of rows must be equal to the number of individuals in the run file. Download a sample file in Downloads (section <strong>Downloads</strong>).</p>
<p>Selecting <strong>Paste text</strong> allows for the labels to be pasted or manually typed in. In this case only one label set (one column) is allowed. One label per line. There should be no header. Just to be clear, if this one column group label is uploaded as a file, it must have a header.</p>
</div>
<div id="active-group-label-title" class="section level3">
<h3 class="hasAnchor">
<a href="#active-group-label-title" class="anchor"></a>Active group label title</h3>
<p>All available group label titles are listed in the dropdown menu. The first group label title is automatically selected as the active set. This can be changed by selecting another group label title from the dropdown menu. The active group label set is used for grouping when sorting individuals (section <strong>Order individuals</strong>), subsetting (section <strong>Subset/Order group</strong>), ordering groups (section <strong>Order group labels</strong>) and when computing mean (section <strong>Compute mean over groups</strong>) over groups.</p>
</div>
<div id="subsetorder-group" class="section level3">
<h3 class="hasAnchor">
<a href="#subsetorder-group" class="anchor"></a>Subset/Order group</h3>
<p>Based on the active group label set (section <strong>Active group label title</strong>), group labels from that set are available to subset or reorder. The default is <strong>None</strong> which means do not subset or reorder. <strong>None</strong> must be deleted for this widget to be active.</p>
<p>Groups can be subsetted by selecting one or more groups. Delete a selected pop using the <kbd>Backspace</kbd> key. Use the <kbd>Left</kbd> <kbd>Right</kbd> arrow keys to jump to labels. Position of groups can be changed by changing their order in the widget. For eg. An initial order of <em>Grp A, Grp B</em> can be changed to <em>Grp B, Grp A</em>.</p>
</div>
<div id="order-group-labels" class="section level3">
<h3 class="hasAnchor">
<a href="#order-group-labels" class="anchor"></a>Order group labels</h3>
<p>When group labels are not in contiguous blocks or they are ordered non-alphabetically, they can be reordered by checking the option <strong>Order group labels</strong>. All group label sets are ordered alphabetically starting with the active group label set (section <strong>Active group label title</strong>).</p>
</div>
<div id="compute-mean-over-groups" class="section level3">
<h3 class="hasAnchor">
<a href="#compute-mean-over-groups" class="anchor"></a>Compute mean over groups</h3>
<p>Mean across all individuals within the currently active group (section <strong>Active group label title</strong>) is computed and displayed.</p>
</div>
</div>
<div id="standard-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#standard-plot" class="anchor"></a>Standard Plot</h2>
<p><img src="figures/plotrunsnolabs.png"></p>
<p><b>Fig. </b> 6: <em>Sample of a single plot on left and a sample of joined plot on the right.</em></p>
<div id="standard-options" class="section level3">
<h3 class="hasAnchor">
<a href="#standard-options" class="anchor"></a>Standard options</h3>
<p>These are basic options that apply to the standard plot. The standard options are organised into the following sections: general options, side panel options, title options, subtitle options and legend options. Each section has a <strong>Reset panel</strong> button which resets all settings in that section to default settings.</p>
<p><strong>Show Y axis</strong> when checked displays the Y-axis. This also displays additional widgets to control size and length of ticks. When two or more runs are selected, the <strong>Panel spacer</strong> option is used to adjust spacing between run panels on the plot.</p>
<p><strong>Show side panel</strong> when checked displays a side panel on the right side of standard displaying the filename and <em>K</em> value. The default labels can be changed by providing comma separated labels. Other side panel options control side panel position, text size, text colour and background colour. Click on the <strong>Reset panel</strong> button to reset all the settings in the side panel options.</p>
<p>Checking <strong>Show plot title</strong> displays a title on top of the plot. The label can be changed as well as the title text size, title spacer (the space between the title and the region below), horizontal and vertical justification and the title colour.</p>
<p>Checking <strong>Show plot subtitle</strong> displays a subtitle on top of the plot. The label can be changed as well as the subtitle text size, subtitle spacer (the space between the subtitle and the region below), horizontal and vertical justification and the subtitle colour.</p>
<p>Checking <strong>Show cluster legend</strong> displays a legend showing cluster colours. The legend labels default to cluster names, but this can be changed by providing a comma separated label list. The legend text size, key size and spacing can be adjusted.</p>
</div>
<div id="individual-label-options" class="section level3">
<h3 class="hasAnchor">
<a href="#individual-label-options" class="anchor"></a>Individual label options</h3>
<p>Checking <strong>Use individual labels</strong> (section <strong>Individual labels</strong>) displays the <strong>Individual label options</strong> panel. The <strong>Common individual labels</strong> option when checked displays individual labels only under the lowermost plot (for standard plot and in case multiple plots are displayed). Unchecking this option displays individual labels under each plot panel. When sorting individuals by cluster (section 6.1.3), <strong>Common individual labels</strong> option must be unchecked.</p>
<p>The individual labels panel height can be adjusted along with the spacer (space between the individual labels and the region above). The label size, colour, horizontal and vertical justification and angle can be adjusted.</p>
</div>
<div id="group-label-options" class="section level3">
<h3 class="hasAnchor">
<a href="#group-label-options" class="anchor"></a>Group label options</h3>
<p>Checking <strong>Use group labels</strong> (section <strong>Group labels</strong>) displays the <strong>Group label options</strong> panel. This panel is organised into the following sections: general options, text options, point options, line options and divider options.</p>
<p><img src="figures/figure-scheme.png"></p>
<p><b>Fig. </b> 7: <em>A typical joined plot with group labels. Various parts of the figure and options to customise.</em></p>
<p>The group labels panel height can be adjusted along with the spacer (space between the group labels and the region above). The panel ratio takes two numbers separated by a comma denoting ratio of plot area to group-label area like <code>3,1</code>. The <strong>Label marker colour</strong> is the colour applied to all label marker elements such as lines and points.</p>
<p>The text options control the text y-position, text colour, size, angle and horizontal justification. Label points separate the groups. The point size (ex. 1) and point type can be adjusted. The default point type is <code><a href="https://rdrr.io/r/base/Logic.html">|</a></code>. This can be changed to any character. If a number is provided, then a standard R plotting symbol (pch) is used instead. Point options control point size and point type.</p>
<p><img src="figures/rpch.png"></p>
<p><b>Fig. </b> 8: <em>Number for plotting characters.</em></p>
<p>The horizontal line seen with the labels is the label line. Line options control line y-position, line thickness and line type. The line type can be a single digit or double digit number. A single digit denotes one of the line types in the figure below. A double digit denotes the length of mark and length of the space. For example, 22 means a line with a mark of distance 2 followed by a space of distance 2.</p>
<p><img src="figures/rlty.png"></p>
<p><b>Fig. </b> 9: <em>A few of the line types.</em></p>
<p>Divider options control the vertical lines separating groups. The divider lines are drawn between groups of the active group label set (section <strong>Active group label title</strong>). This can be changed to one or more group label sets by selecting the group label title. Use arrow keys to move cursor left/right. Use backspace to remove a label. Other options allow to control the thickness of the div line and the line type.</p>
</div>
<div id="image-preview-scale" class="section level3">
<h3 class="hasAnchor">
<a href="#image-preview-scale" class="anchor"></a>Image preview scale</h3>
<p>The image preview scale slider allows to adjust the display size of the preview plot in the browser. The scale does not affect the download options.</p>
</div>
<div id="download-options" class="section level3">
<h3 class="hasAnchor">
<a href="#download-options" class="anchor"></a>Download options</h3>
<p>Empty fields for height and width will generate default values (recommended). <strong>Note</strong>: The height is height of one run panel and not the height of the entire figure. If 2 runs are selected, a height of 2 cm means each run will be 2 cm and the final figure will be around 4 cm high. The default image resolution is 200dpi. When specifying height and width, note that it is in cm. Changing the file type does not change the preview but it changes the downloaded file type.</p>
</div>
</div>
<div id="interactive-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#interactive-plot" class="anchor"></a>Interactive Plot</h2>
<p>The interactive plot makes it easier to explore the data. It allows zoom control, drag/slide and hover tool tips to identify samples. Note that interactive plots are computationally more intensive to display and change especially for datasets with large number of individuals.</p>
<div id="interactive-plot-usage" class="section level3">
<h3 class="hasAnchor">
<a href="#interactive-plot-usage" class="anchor"></a>Interactive plot usage</h3>
<p>Hovering the cursor over the plot shows the current position (Cur Pos), original position (Orig Pos), individual ID, cluster (<em>K</em>) and the y-axis value (assignment probability) in the tool tip. If group labels are in use, group label from each group label set is also displayed for that individual. The original position may be useful when sorting the individuals. The original position does not work with <strong>Align/Merge runs (within K)</strong> option. When individual labels are in use, individual labels is shown as individual ID.</p>
<p>Click and drag on the plot (horizontally) to zoom in. Click <strong>Reset</strong> to reset zoom. When zoomed in, press <kbd>Shift</kbd> and drag (horizontally) to slide the view. Clusters can be turned on or off by clicking on the legend icons (top right). When multiple runs are selected, plots are created one below the other in the order in which the files are selected. Click on the top left corner and choose an option to download the plot.</p>
</div>
<div id="interactive-options" class="section level3">
<h3 class="hasAnchor">
<a href="#interactive-options" class="anchor"></a>Interactive options</h3>
<p>The height and width of plots can be adjusted. The legend can be turned on or off. The filename is shown as title and caption. It can be displayed on the bottom right or on top left.</p>
</div>
</div>
</div>
<div id="downloads" class="section level1">
<h1 class="hasAnchor">
<a href="#downloads" class="anchor"></a>Downloads</h1>
<p>Samples files for download are available <a href="https://github.com/royfrancis/pophelper/tree/master/inst/files">here</a>.</p>
</div>
<div id="faqs" class="section level1">
<h1 class="hasAnchor">
<a href="#faqs" class="anchor"></a>FAQs</h1>
<ul>
<li><p><strong>Nothing visible in Evanno tab:</strong> Evanno option is available only for structure runs. Likely issue is that uploaded files are not STRUCTURE runs or consists of mixed formats.</p></li>
<li><p><strong>When uploading lots of files to the web app, the upload bar tends to be frozen:</strong> The bar sometimes appear frozen, but the upload is in progress. The summary table should be visible after a few minutes. Better to zip all the files into one file and upload. This issue is only applicable to the online version of the app.</p></li>
<li><p><strong>A popup error with ‘The application unexpectedly exited.’:</strong> This error is reported when the app has crashed. This can happen due to a whole range of unexpected issues. The solution is to refresh the browser and continue as normal. Else, close tab and open webpage in new tab. If this happens consistently, please report to me with explanation on what you were doing when it happened.</p></li>
<li><p><strong>After working with some files, reuploading new files in the same session often produces a pop-up error like ‘The application unexpectedly exited’:</strong> The solution is to refresh the browser or reload the page.</p></li>
<li><p>Under standard plot options, the sub sections can be collapsed by clicking on the section title. For example <strong>&gt; Standard options</strong>, <strong>&gt; General options</strong> etc. This might be useful to quickly reduce clutter. But note that variables in the hidden widgets are not accessible to the plotting function and can lead to strange errors.</p></li>
<li><p><strong>Downloads do not work:</strong> When running locally, open app in a system browser rather than the RStudio browser. In the RStudio browser, click on <strong>Open In Browser</strong>. Downloads only work in a system browser.</p></li>
<li><p>To exit the running app locally, press the <kbd>Esc</kbd> key in the R console.</p></li>
</ul>
</div>
<div id="environment" class="section level1">
<h1 class="hasAnchor">
<a href="#environment" class="anchor"></a>Environment</h1>
<pre><code>## R version 4.0.0 (2020-04-24)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.1 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3
## LAPACK: /usr/local/R/4.0.0/lib/R/lib/libRlapack.so
## 
## locale:
##  [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8    
##  [5] LC_MONETARY=en_GB.UTF-8    LC_MESSAGES=en_GB.UTF-8   
##  [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] RColorBrewer_1.1-2 captioner_2.2.3    knitr_1.30        
## 
## loaded via a namespace (and not attached):
##  [1] viridisLite_0.3.0 rprojroot_2.0.2   digest_0.6.27     crayon_1.3.4     
##  [5] assertthat_0.2.1  R6_2.5.0          magrittr_2.0.1    evaluate_0.14    
##  [9] stringi_1.5.3     rlang_0.4.9       rstudioapi_0.13   fs_1.5.0         
## [13] ragg_0.4.0        rmarkdown_2.6     pkgdown_1.6.1     textshaping_0.2.1
## [17] desc_1.2.0        tools_4.0.0       stringr_1.4.0     yaml_2.2.1       
## [21] xfun_0.19         compiler_4.0.0    systemfonts_0.3.2 memoise_1.1.0    
## [25] htmltools_0.5.0</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Roy Francis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
